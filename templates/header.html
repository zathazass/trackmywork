{% load static %}
{% load icon %}
<header class="border-b-2 border-gray-100 sticky top-0 z-99">
	<div class="relative bg-white">
		<div class="max-w-7xl mx-auto px-4 sm:px-6">
			<div class="flex justify-between sm:justify-start items-center py-3 md:justify-start md:space-x-10">
				<div class="flex justify-start lg:w-0 lg:flex-1">
					<a href="{% url 'index_page' %}" class="flex items-center">
						<img class="h-8 w-auto sm:h-10" src="{% static 'images/tmw.svg' %}" alt="">
						<span class="ml-4 text-green-700 text-2xl">Track My Work</span>
					</a>
				</div>
				<div class=" -my-2 md:hidden mx-auto mr-2">
					<button type="button" onclick="toggleMenu()"
						class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500"
						aria-expanded="false">
						<span class="sr-only">Open menu</span>
						{% icon "menu" %}
					</button>
				</div>
				<nav class="hidden md:flex space-x-10">
					<a href="#" class="text-base font-medium text-gray-500 hover:text-gray-900">
						Documentation
					</a>
					<a href="#" class="text-base font-medium text-gray-500 hover:text-gray-900">
						About
					</a>
				</nav>
				<div class="hidden md:flex items-center justify-end md:flex-1 lg:w-0">
					{% if request.user.is_authenticated %}
					<!-- <a href="{% url 'accounts:logout_view' %}" title="Sign out" id="logout-link1"
						class="whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900">
						{% icon "log-out" %}
					</a> -->
					{% else %}
					<a href="{% url 'accounts:login_page' %}"
						class="whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900"> Sign
						in
					</a>
					<a href="{% url 'accounts:register_page' %}"
						class="ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-1 border border-transparent shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700">
						Sign up </a>
					{% endif %}
				</div>

				{% if request.user.is_authenticated %}
				<!-- This example requires Tailwind CSS v2.0+ -->
				<div class="relative inline-block text-left">
					<div class="flex justify-between items-center space-x-4">
						<span
							class="hidden sm:inline-block text-black text-xl font-semibold capitalize">{{request.user.username}}</span>
						<button type="button" id="user-button" aria-expanded="true" aria-haspopup="true"
							class="border p-2 rounded-full">
							{% icon 'user' %}
						</button>
					</div>

					<!--
				    Dropdown menu, show/hide based on menu state.
				
				    Entering: "transition ease-out duration-100"
				      From: "transform opacity-0 scale-95"
				      To: "transform opacity-100 scale-100"
				    Leaving: "transition ease-in duration-75"
				      From: "transform opacity-100 scale-100"
				      To: "transform opacity-0 scale-95"
				  -->
					<div id="user-dropdown"
						class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"
						role="menu" aria-orientation="vertical" aria-labelledby="user-button" tabindex="-1">
						<div class="py-1 sm:hidden" role="none">
							<span
								class="block text-blue-600 font-bold px-4 py-2 text-center">{{request.user.username}}</span>
						</div>
						<div class="py-1" role="none">
							<!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
							<a href="#" class="text-gray-700 px-4 py-2 text-sm flex items-center hover:bg-slate-200"
								role="menuitem" tabindex="-1" id="menu-item-4">
								{% icon 'user-check' class="mr-3" width="18" height="18" %} Profile</a>
							<a href="#" class="text-gray-700 px-4 py-2 text-sm flex items-center hover:bg-slate-200"
								role="menuitem" tabindex="-1" id="menu-item-4">
								{% icon 'briefcase' class="mr-3" width="18" height="18" %} Works</a>
						</div>

						<div class="py-1" role="none">
							<a href="#" class="text-gray-700 px-4 py-2 text-sm flex items-center hover:bg-slate-200"
								role="menuitem" tabindex="-1" id="menu-item-4">
								{% icon 'settings' class="mr-3" width="18" height="18" %} Settings</a>

						</div>
						<div class="py-1" role="none">
							<!-- <a href="#" class="text-gray-700 block px-4 py-2 text-sm" role="menuitem" tabindex="-1"
								id="menu-item-6">Delete</a> -->

							<a href="{% url 'accounts:logout_view' %}" title="Sign out" id="logout-link1"
								class="text-gray-700 px-4 py-2 text-sm flex items-center hover:bg-slate-200"
								role="menuitem" tabindex="-1">
								{% icon "log-out" class="mr-3" width="18" height="18" %} Sign Out
							</a>
						</div>
					</div>
				</div>
				{% endif %}
			</div>
		</div>


		<div id="mobile-menu"
			class="hidden absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden">
			<div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50">
				<div class="pt-5 pb-6 px-5">
					<div class="flex items-center justify-between">
						<div>
							<img class="h-8 w-auto" src="{% static 'images/tmw.svg' %}" alt="Workflow">
						</div>
						<div class="-mr-2">
							<button type="button" onclick="toggleMenu()"
								class="menu-toggle bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500">
								<span class="sr-only">Close menu</span>
								<!-- Heroicon name: outline/x -->
								{% icon "x" %}
							</button>
						</div>
					</div>

				</div>
				<div class="py-6 px-5 space-y-6">
					<div class="grid grid-cols-2 gap-y-4 gap-x-8">
						<a href="#" class="text-base font-medium text-gray-900 hover:text-gray-700"> Documentation </a>
						<a href="#" class="text-base font-medium text-gray-900 hover:text-gray-700"> About </a>
					</div>
					<div>
						{% if request.user.is_authenticated %}
						<a href="{% url 'accounts:logout_view' %}" id="logout-link2"
							class="w-full flex items-center justify-center px-4 py-2 border border-transparent shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700">
							Sign out </a>
						{% else %}
						<a href="{% url 'accounts:register_page' %}"
							class="w-full flex items-center justify-center px-4 py-2 border border-transparent shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700">
							Sign up </a>
						<p class="mt-6 text-center text-base font-medium text-gray-500">
							Existing customer?
							<a href="{% url 'accounts:login_page' %}" class="text-green-600 hover:text-green-500">
								Sign
								in </a>
						</p>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
</header>